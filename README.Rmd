---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# cartoutremer

<!-- badges: start -->
<!-- badges: end -->

Le package R `CartOutremer` permet de faciliter la cartographie des territoires français d'Outre-Mer (DROM et COM) dans les outils R et QGis. Ces territoires sont placés à proximité de la France métropolitaine et leur échelle est altérée afin de faciliter la lisibilité des cartes produites.

Les territoires de France d'Outre-Mer inclus sont les suivants :

- l'ensemble des DROM (Départements et Régions d'outre-mer)
  * Guadeloupe (971)
  * Martinique (972)
  * Guyane (973)
  * La Réunion (974)
  * Mayotte (976)
- les COM (Collectivités d'outre-mer) suivantes :
  * Saint-Pierre-et-Miquelon (975)
  * Saint-Barthélémy (977)
  * Saint-Martin (978)
  

# Installation :  
  
```{r eval=FALSE}
remotes::install_github("ARCEP-dev/cartoutremer")

```


# Exemple de traitement :

```{r eval=T, echo=F, message=F, warning=F , dpi= 500}

library(cartoutremer)

# import des contours des départements de France métropolitaine et des DROM en projection WGS1984 via l'API IGN 
library(httr)
api_ignadmin <- "https://wxs.ign.fr/administratif/geoportail/wfs"
url <- parse_url(api_ignadmin)
url$query <- list(service = "wfs",
                  request = "GetFeature",
                  srsName = "EPSG:4326",
                  typename = "ADMINEXPRESS-COG.LATEST:departement")

DEP_FRMETDROM <- build_url(url) %>% read_sf() %>% select(-gml_id, -insee_reg)

# sélection des départements de France métropolitaine avec conversion en projection conforme (RGF 93)
DEP_FRMET <-
  DEP_FRMETDROM %>%
  filter(!substr(insee_dep,1,2) %in% "97") %>%
  st_transform(2154)




```


# Ressources annexes :

* Contours des communes de France métropolitaine et DROM en projection WGS1984 mis à disposition par l'Arcep sur [data.gouv.fr](https://www.data.gouv.fr/fr/datasets/contours-communes-france-administrative-format-admin-express-avec-arrondissements/)

* Contours des communes des COM (Saint-Pierre-et-Miquelon, Saint-Barthélémy, Saint-Martin) mis à disposition par l'Arcep sur [data.gouv.fr](https://www.data.gouv.fr/fr/datasets/decoupage-administratif-des-com-st-martin-et-st-barthelemy-et-com-saint-pierre-et-miquelon-format-admin-express/)



